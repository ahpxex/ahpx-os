@import "tailwindcss";
@import "xp.css/dist/XP.css" layer(components);
@plugin "@tailwindcss/typography";

/* Neo-Brutalism Design System */
:root {
  --color-beige: #fbf7f0;
  --color-white: #ffffff;
  --color-black: #000000;

  /* Primary color theme */
  --color-primary: #FF4F00;
  --color-primary-light: #FF7A33;
  --color-primary-dark: #CC3F00;
  --color-primary-bg: #FFF1EB;

  /* Border color */
  --color-border: #FF4F00;

  --shadow-brutal: 4px 4px 0px 0px rgba(0, 0, 0, 1);
}

/* Base reset for OS environment */
html,
body,
#root {
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden;
}

body {
  font-family: Tahoma, Verdana, Arial, sans-serif;
  text-rendering: optimizeSpeed;
  -webkit-font-smoothing: none;
  -moz-osx-font-smoothing: auto;
  background-color: var(--color-beige);
  background-image: url('/xp.png');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-attachment: fixed;
}

@layer components {
  /* Prevent XP.css from styling specific interactive elements as classic buttons */
  .xp-reset-button {
    appearance: none;
    border: 0;
    background: transparent;
    box-shadow: none;
    border-radius: 0;
    min-width: 0;
    min-height: 0;
    padding: 0;
    font: inherit;
    color: inherit;
  }

  button.xp-reset-button:hover,
  button.xp-reset-button:active,
  button.xp-reset-button:focus {
    box-shadow: none;
  }

  .xp-taskbar-luna {
    background: linear-gradient(
      to bottom,
      #3c8bf6 0%,
      #2f7ae6 7%,
      #2366dc 10%,
      #1e5ed6 10%,
      #1b55c8 80%,
      #1541b2 100%
    );
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.35);
  }

  .xp-start-button-luna {
    background: linear-gradient(
      to bottom,
      #62b050 0%,
      #4da43b 28%,
      #2f9526 64%,
      #1a7a15 100%
    );
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.65),
      inset 0 -1px 0 rgba(0, 0, 0, 0.25),
      inset 0 0 0 1px rgba(255, 255, 255, 0.12);
  }

  button.xp-start-button-luna:focus,
  button.xp-start-button-luna:focus-visible {
    outline: none;
  }

  /* Keep the Start button's inset look even though xp-reset-button clears box-shadow on hover/active/focus. */
  button.xp-start-button-luna:hover,
  button.xp-start-button-luna:focus,
  button.xp-start-button-luna:focus-visible {
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.65),
      inset 0 -1px 0 rgba(0, 0, 0, 0.25),
      inset 0 0 0 1px rgba(255, 255, 255, 0.12);
  }

  button.xp-start-button-luna:active,
  button.xp-start-button-luna[aria-expanded="true"] {
    background: linear-gradient(to bottom, #2f9526 0%, #4da43b 55%, #62b050 100%);
    box-shadow:
      inset 0 2px 5px rgba(0, 0, 0, 0.35),
      inset 0 0 0 1px rgba(255, 255, 255, 0.08);
  }

  .xp-tray-inset {
    background: linear-gradient(to bottom, #3aa4ff 0%, #1d8fe8 45%, #0e6bd0 100%);
    border: 0;
    border-left: 1px solid rgba(0, 0, 0, 0.25);
    box-shadow: none;
  }
}

/* Prevent selection for native feel */
* {
  user-select: none;
  -webkit-user-select: none;
}

/* Allow selection in specific contexts */
input,
textarea,
[contenteditable="true"],
.selectable,
.selectable * {
  user-select: text;
  -webkit-user-select: text;
}

/* XP.css integration tweaks */
.xp-window-maximized.window {
  border-top-left-radius: 0;
  border-top-right-radius: 0;
}

.xp-title-bar-inactive.title-bar {
  background: linear-gradient(
    180deg,
    rgba(180, 190, 210, 1) 0%,
    rgba(140, 150, 170, 1) 8%,
    rgba(130, 140, 160, 1) 40%,
    rgba(160, 170, 190, 1) 88%,
    rgba(160, 170, 190, 1) 93%,
    rgba(150, 160, 180, 1) 95%,
    rgba(120, 130, 150, 1) 96%,
    rgba(120, 130, 150, 1) 100%
  );
  text-shadow: none;
}
